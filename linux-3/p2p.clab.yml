name: three-node-p2p

topology:
  kinds:
    linux:
      image: ghcr.io/hellt/network-multitool
  nodes:
    n1:
      kind: linux
      exec:
        - ip address add 192.168.1.1/24 dev eth1
        - ip address add 192.168.3.1/24 dev eth3
    n2:
      kind: linux
      exec:
        - ip address add 192.168.1.2/24 dev eth1
        - ip address add 192.168.2.2/24 dev eth2
    n3:
      kind: linux
      exec:
        - ip address add 192.168.2.3/24 dev eth2
        - ip address add 192.168.3.3/24 dev eth3
  links:
    - endpoints: ["n1:eth1", "n2:eth1"]
    - endpoints: ["n2:eth2", "n3:eth2"]
    - endpoints: ["n3:eth3", "n1:eth3"]
    